# ==============================================
# ShinAI お問い合わせAPI - 環境変数設定
# ==============================================

# サーバー設定
PORT=3000
NODE_ENV=production

# フロントエンドURL（CORS設定）
FRONTEND_URL=https://your-domain.com

# Gmail設定（shinai.life@gmail.com）
GMAIL_APP_PASSWORD=your-gmail-app-password-here

# 暗号化キー（32バイト = 64文字の16進数）
# 生成方法: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-64-character-hex-encryption-key-here

# ==============================================
# AI Chatbot設定 (Phase 2.4: ChatGPT + RAG)
# ==============================================

# Chatbot API設定
CHATBOT_API_PORT=3001

# OpenAI API Key
OPENAI_API_KEY=your-openai-api-key-here

# OpenAI モデル設定
# gpt-4o-mini: 速度×品質×コストの黄金バランス
# 料金: Input $0.15/1M, Output $0.60/1M (gpt-4-turbo比 1/50)
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7

# ==============================================
# Vector Database設定 (Phase 4.1: Chroma)
# ==============================================

# Chroma Vector Database
CHROMA_HOST=localhost
CHROMA_PORT=8000
CHROMA_COLLECTION_NAME=shinai-knowledge-base

# Embedding Configuration
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_CACHE_SIZE=100
EMBEDDING_BATCH_SIZE=10

# Feature Flags
VECTOR_SEARCH_ENABLED=true
FALLBACK_TO_KEYWORD_SEARCH=true

# Pinecone Vector Database (Future migration option)
PINECONE_API_KEY=your-pinecone-api-key-here
PINECONE_ENVIRONMENT=your-pinecone-environment
PINECONE_INDEX_NAME=shinai-knowledge-base

# ==============================================
# 【重要】Gmailアプリパスワードの取得方法
# ==============================================
#
# 1. Googleアカウント設定にアクセス
#    https://myaccount.google.com/
#
# 2. 「セキュリティ」→「2段階認証プロセス」を有効化
#
# 3. 「アプリパスワード」を生成
#    - アプリ: メール
#    - デバイス: その他（「ShinAI お問い合わせAPI」と命名）
#
# 4. 生成された16文字のパスワードをコピー
#    例: abcd efgh ijkl mnop → abcdefghijklmnop（スペース除去）
#
# 5. 上記 GMAIL_APP_PASSWORD にペースト
#
# ==============================================
